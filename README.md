# ThesisMagistr
Выпускная квалификационная работа магистра. Ее можно использовать как шаблон, она включает в себя шрифт TimesNewRoman и автоматическое создание ссылок по ГОСТ 2008, проходит бауманский нормоконтроль. Пример можно найти в релизах.

Status of last deployment:

![CreateThesis](https://github.com/NikitaDmitryuk/ThesisMagistr/actions/workflows/main.yml/badge.svg)

## Использование как шаблон

Клонировать данный репозиторий в свой GitHub можно используя кнопку Fork, после чего данный репозиорий появится в ваших репозиториях и его можно будет менять.

## Сборка в Arch Linux

Рекомендуется собирать этот шаблон в Arch Linux, однако без особых проблем получится собрать его и в Windows(сочувствую).

Для установки и настройки всего необходимого надо запустить скрипт **install** в папке **install**. Возможно понадобится перезагрузить компьютер.

```bash
sudo bash install.sh
```

После чего можно собирать диплом командой

```bash
make
```

## Сборка под Windows

- [ ] [Установить Docker](https://docs.docker.com/desktop/install/windows-install/)

После установки Docker надо перезапустить компьютер (он предложит сам).
Затем, если он сразу не заработает, следовать его инструкциям, он предложить выполнить [следующие шаги](https://docs.microsoft.com/ru-ru/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package).
При выборе дистрибутива Linux выбрать [Ubuntu 22.04 LTS](https://www.microsoft.com/store/apps/9PN20MSR04DW).
Далее следовать иструкциям установки Ubuntu.
После этих шагов Docker должен заработать.

Скачиваем на комп данный репозиторий.

Теперь можно собирать полный диплом и презентацию как она задумана, для этого необходимо в консоли запустить скрипт **makewin.bat** (проще всего открыть консоль в нужной папке написав в строке пути **cmd**).

```console
makewin.bat
```

## Особенности сборки

1. Перед сборкой удаляются старые сгенерированные pdf файлы, а после сборки удаляются временные файлы, генерируемые latex и bibtex
2. Может быть любое количество собираемых файлов, вы можете не ограничиваться только презентацией и дипломом (для этого нужно поместить файл.tex в основную директорию)
3. Файлы .tex могут иметь любое имя

**ВНИМАНИЕ!!!**

**Ошибки, генерируемы bibtex, игнорируются, а сборка не прерывается! Если файл собрался неправильно, надо открывать логи (файл.log), все ошибки сохранены там.**

## Создание релиза

Создание релиза происходит на Github в специальном контейнере Docker по пушу тега вида v*. 

Пример:

```bash
git add .
git commit -m "your comment"
git push
git tag -a v0.1 -m "your comment"
git push --tags
```
Автоматически запустится процесс GitHub Actions, который закончится примерно через 2-3 минуты. Его можно наблюдать во вкладке *Actions* в репозитории. 
После этого справа в рпозитории появится релиз содержащий диплом со шрифтом times new roman и презентация.
